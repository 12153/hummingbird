const a={};function s(n,t){a[n]=t}function r(n=document){n.querySelectorAll("[data-component]").forEach(t=>{const e=t.dataset.component,o=t.dataset.props?JSON.parse(t.dataset.props):{};a[e]?a[e](t,o):console.warn(`Component '${e}' not registered.`)})}document.addEventListener("click",n=>{const t=n.target.closest("a");(t!=null&&t.hasAttribute("data-swap")||(t==null?void 0:t.hostname)===location.hostname)&&(n.preventDefault(),fetch(t.href,{headers:{"X-Partial":"true"}}).then(e=>e.text()).then(e=>{document.querySelector("main").innerHTML=e,r(),history.pushState({},"",t.href)}))});s("Counter",(n,t)=>{let e=t.start;const o=document.createElement("button");o.textContent=`Count: ${e}`,o.className="p-2 bg-blue-500 text-white rounded",o.addEventListener("click",()=>{e++,o.textContent=`Count: ${e}`}),n.appendChild(o)});r();
